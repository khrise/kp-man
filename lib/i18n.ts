export type Locale = "de" | "en"

export const translations = {
  de: {
    // Common
    save: "Speichern",
    cancel: "Abbrechen",
    delete: "L√∂schen",
    edit: "Bearbeiten",
    add: "Hinzuf√ºgen",
    import: "Importieren",
    close: "Schlie√üen",
    logout: "Abmelden",
    exit: "Beenden",
    changeSeason: "Saison wechseln",

    // Auth
    login: "Anmelden",
    username: "Benutzername",
    password: "Passwort",
    enterUsername: "Benutzername eingeben",
    enterPassword: "Passwort eingeben",
    signIn: "Anmelden",
    signingIn: "Anmelden...",
    adminLogin: "Admin Login",
    enterCredentials: "Geben Sie Ihre Anmeldedaten ein, um auf das Admin-Dashboard zuzugreifen",
    invalidCredentials: "Ung√ºltiger Benutzername oder Passwort",
    loginError: "Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.",
    loggingIn: "Anmelden...",
    lookingForPublicPage: "Suchen Sie die √∂ffentliche Seite?",
    goToPublicPage: "Zur √∂ffentlichen Seite",

    // Public Access
    sportsClubPlanning: "TV Klotzsche - üéæ Spieltage Planner",
    enterAccessCode: "Geben Sie Ihren Saison-Zugangscode ein, um bevorstehende Spiele anzuzeigen",
    seasonAccessCode: "Saison-Zugangscode",
    accessSeason: "Saison zugreifen",
    invalidAccessCode: "Ung√ºltiger Zugangscode. Bitte versuchen Sie es erneut.",
    administrator: "Administrator?",
    loginHere: "Hier anmelden",
    demoAccessCode: "Demo-Zugangscode:",

    // Spieltage
    upcomingMatches: "Kommende Spieltage",
    impersonatePlayer: "Spieler ausw√§hlen:",
    selectPlayer: "Spieler ausw√§hlen...",
    selectPlayerFirst: "Bitte w√§hlen Sie zuerst einen Spieler aus",
    hello: "Hallo",
    switchPlayer: "Spieler wechseln",
    rememberMe: "Spielerauswahl merken",
    yes: "Ja",
    notNow: "Nicht jetzt",
    showFilters: "Filter anzeigen",
    hideFilters: "Filter ausblenden",
    showDetails: "Details anzeigen",
    confirm: "Best√§tigen",
    maybe: "Vielleicht",
    decline: "Ablehnen",
    participants: "Teilnehmer",
    undecided: "unentschlossen",
    notOnTeam: "Sie sind kein Mitglied dieses Teams",
    showAllMatches: "Alle Spiele anzeigen",
    showMyMatches: "Nur meine Spiele",
    matchesShown: "{count} von {total} Spielen",

    // Participation Comments
    addComment: "Kommentar hinzuf√ºgen",
    participationComment: "Teilnahme-Kommentar",
    addOptionalComment: "F√ºgen Sie einen optionalen Kommentar zu Ihrer Teilnahme hinzu",
    commentLabel: "Kommentar (optional)",
    commentPlaceholder: "Geben Sie hier Ihren Kommentar ein...",
    comment: "Kommentar",

    // Tie Details
    notes: "Notizen",
    confirmed: "Best√§tigt",
    declined: "Abgelehnt",
    noResponses: "Noch keine R√ºckmeldungen",

    // Lineup Management
    lineup: "Aufstellung",
    manageLineup: "Aufstellung verwalten",
    selectLineup: "Aufstellung ausw√§hlen",
    inLineup: "In Aufstellung",
    notInLineup: "Nicht in Aufstellung",
    lineupPlayers: "Ausgew√§hlte Spieler",
    availablePlayers: "Verf√ºgbare Spieler",
    lineupCount: "Aufstellung",
    maxPlayersReached: "Maximale Spieleranzahl erreicht",
    onlyConfirmedPlayers: "Nur best√§tigte Spieler k√∂nnen ausgew√§hlt werden",
    remove: "Entfernen",
    otherParticipations: "Andere Teilnahmen",
    needsAttention: "Aufmerksamkeit erforderlich",
    lineupIssuesDetected: "Aufstellungsprobleme erkannt",
    onePlayerInLineupChanged: "Ein Spieler in der Aufstellung hat seine Teilnahme ge√§ndert",
    playersInLineupChanged: "Spieler in der Aufstellung haben ihre Teilnahme ge√§ndert",
    noLineup: "Keine Aufstellung",
    lineupIssues: "Aufstellungsprobleme",
    lineupIncomplete: "Aufstellung unvollst√§ndig",
    lineupComplete: "Aufstellung vollst√§ndig",
    playerNeedsAttention: "Spieler ben√∂tigt Aufmerksamkeit",
    playersNeedAttention: "Spieler ben√∂tigen Aufmerksamkeit",
    playersWithoutResponse: "Spieler ohne Antwort",
    noResponsePlayers: "Keine R√ºckmeldung",
    noPlayersWithoutResponse: "Alle Spieler haben geantwortet",

    // Admin Dashboard
    dashboard: "Dashboard",
    manageSportsClub: "Verwalten Sie Ihren üéæ Spieltage Planner",
    seasons: "Saisons",
    teams: "Mannschaften",
    players: "Spieler",
    ties: "Spieltage",
    activeAndArchived: "Aktive und archivierte Saisons",
    teamsInSeason: "Mannschaften in aktueller Saison",
    registeredPlayers: "Registrierte Spieler",
    upcomingTies: "Bevorstehende Spieltage",
    quickActions: "Schnellaktionen",
    commonTasks: "H√§ufige administrative Aufgaben",
    manageSeasons: "Saisons verwalten",
    manageTeams: "Mannschaften verwalten",
    managePlayers: "Spieler verwalten",
    manageTies: "Spieltage verwalten",
    recentActivity: "Letzte Aktivit√§t",
    latestUpdates: "Neueste Updates und √Ñnderungen",

    // Seasons
    manageSeasonsDesc: "Verwalten Sie die Saisons",
    addSeason: "Saison hinzuf√ºgen",
    addNewSeason: "Neue Saison hinzuf√ºgen",
    editSeason: "Saison bearbeiten",
    seasonName: "Saisonname",
    accessCode: "Zugangscode",
    startDate: "Startdatum",
    endDate: "Enddatum",
    active: "Aktiv",
    confirmDeleteSeason: "Sind Sie sicher, dass Sie diese Saison l√∂schen m√∂chten?",

    // Users
    users: "Benutzer",
    manageUsers: "Benutzer verwalten",
    manageUsersDesc: "Systembenutzer und ihre Rollen verwalten",
    addUser: "Benutzer hinzuf√ºgen",
    addNewUser: "Neuen Benutzer hinzuf√ºgen",
    editUser: "Benutzer bearbeiten",
    changePassword: "Passwort √§ndern",
    newPassword: "Neues Passwort",
    updatePassword: "Passwort aktualisieren",
    role: "Rolle",
    associatedPlayer: "Verkn√ºpfter Spieler (Optional)",
    noPlayerAssociation: "Keine Spieler-Verkn√ºpfung",
    admin: "Administrator",
    user: "Benutzer",
    teamCaptain: "Mannschaftskapit√§n",
    player: "Spieler",
    linkedTo: "Verkn√ºpft mit",
    confirmDeleteUser: "Sind Sie sicher, dass Sie diesen Benutzer l√∂schen m√∂chten?",

    // Teams
    manageTeamsDesc: "Verwalten Sie Ihre Mannschaften",
    addTeam: "Mannschaft hinzuf√ºgen",
    addNewTeam: "Neue Mannschaft hinzuf√ºgen",
    editTeam: "Mannschaft bearbeiten",
    teamName: "Mannschaftsname",
    teamSize: "Mannschaftsgr√∂√üe",
    teamSizeDesc: "Anzahl der Spieler, die an einem Spieltag teilnehmen",
    league: "Liga",
    season: "Saison",
    teamRoster: "Mannschaftsaufstellung (Rangiert nach Position)",
    addPlayerToTeam: "Spieler hinzuf√ºgen...",
    noPlayersAdded: "Noch keine Spieler hinzugef√ºgt",
    roster: "Meldeliste",
    playersCount: "Spieler",
    confirmDeleteTeam: "Sind Sie sicher, dass Sie diese Mannschaft l√∂schen m√∂chten?",
    allPlayersAdded: "Alle verf√ºgbaren Spieler wurden bereits hinzugef√ºgt",
    teamPlayers: "Mannschaftsspieler",
    selectAll: "Alle ausw√§hlen",
    rank: "Rang",
    moveUp: "Nach oben",
    moveDown: "Nach unten",
    removePlayer: "Spieler entfernen",
    enableRankEdit: "R√§nge bearbeiten",

    // Players
    managePlayersDesc: "Verwalten Sie Ihre Spieler",
    addPlayer: "Spieler hinzuf√ºgen",
    batchAdd: "Batch hinzuf√ºgen",
    addNewPlayer: "Neuen Spieler hinzuf√ºgen",
    editPlayer: "Spieler bearbeiten",
    batchAddPlayers: "Spieler in Batch hinzuf√ºgen",
    firstName: "Vorname",
    lastName: "Nachname",
    email: "E-Mail",
    phone: "Telefon",
    enterPlayerData: "Spielerdaten eingeben (eine pro Zeile: Vorname Nachname oder Nachname, Vorname)",
    addPlayers: "Spieler hinzuf√ºgen",
    confirmDeletePlayer: "Sind Sie sicher, dass Sie diesen Spieler l√∂schen m√∂chten?",
    noPlayersToImport: "Keine Spieler zum Importieren gefunden",
    importSuccess: "Erfolgreich importiert",
    allPlayersSkipped: "Alle Spieler √ºbersprungen (bereits vorhanden)",
    importResult: "Import abgeschlossen",
    skipped: "√ºbersprungen",

    // Ties
    manageTiesDesc: "Verwalten Sie Ihre Spiele",
    addTie: "Spieltag hinzuf√ºgen",
    addNewTie: "Neuen Spieltag hinzuf√ºgen",
    editTie: "Spieltag bearbeiten",
    team: "Mannschaft",
    opponent: "Gegner",
    date: "Datum",
    time: "Zeit",
    location: "Ort",
    homeAway: "Heim/Ausw√§rts",
    home: "Heim",
    away: "Ausw√§rts",
    vs: "gegen",
    manageMatches: "Spieltage verwalten",
    importTies: "Spieltage importieren",
    importUrl: "Import-URL",
    importUrlPlaceholder: "Geben Sie die URL der Seite mit den Spieltagen ein",
    importTableNotFound: "Keine passende Tabelle auf der Seite gefunden",
    imported: "importiert",
    importFailed: "Import fehlgeschlagen",
    importing: "Importiere...",
    parsing: "Analysiere...",
    fetch: "Abrufen",
    parsedTies: "Gefundene Spieltage",
    previewTies: "Vorschau der Spieltage",
    importSelected: "Ausgew√§hlte importieren",
    clearPreview: "Vorschau l√∂schen",
    corsError: "Fehler beim Laden der Seite. Bitte √ºberpr√ºfen Sie die URL.",
    confirmDeleteTie: "Sind Sie sicher, dass Sie diesen Spieltag l√∂schen m√∂chten?",
    loading: "Lade...",

    // Sorting and Filtering
    filterByTeam: "Nach Mannschaft filtern",
    allTeams: "Alle Mannschaften",
    sortByDate: "Nach Datum sortieren",
    ascending: "Aufsteigend",
    descending: "Absteigend",
    teamAndSeason: "Mannschaft & Saison",
    noTiesFound: "Keine Spieltage gefunden",
    noTiesFoundFor: "Keine Spieltage gefunden f√ºr",
    showAllTeams: "Alle Mannschaften anzeigen",
    tiesCount: "Spieltage",
    of: "von",
    selectValidTeamSeason: "Bitte w√§hlen Sie eine g√ºltige Mannschaft und eine g√ºltige Saison",
    teamSeasonNotFound: "Ausgew√§hlte Mannschaft oder Saison nicht gefunden",
  },
  en: {
    // Common
    save: "Save",
    cancel: "Cancel",
    delete: "Delete",
    edit: "Edit",
    add: "Add",
    import: "Import",
    close: "Close",
    logout: "Logout",
    exit: "Exit",
    changeSeason: "Change Season",

    // Auth
    login: "Login",
    username: "Username",
    password: "Password",
    enterUsername: "Enter your username",
    enterPassword: "Enter your password",
    signIn: "Sign In",
    signingIn: "Signing in...",
    adminLogin: "Admin Login",
    enterCredentials: "Enter your credentials to access the admin dashboard",
    invalidCredentials: "Invalid username or password",
    loginError: "An error occurred. Please try again.",
    loggingIn: "Logging in...",
    lookingForPublicPage: "Looking for the public page?",
    goToPublicPage: "Go to public page",

    // Public Access
    sportsClubPlanning: "TV Klotzsche - üéæ Match day Planner",
    enterAccessCode: "Enter your season access code to view upcoming matches",
    seasonAccessCode: "Season Access Code",
    accessSeason: "Access Season",
    invalidAccessCode: "Invalid access code. Please try again.",
    administrator: "Administrator?",
    loginHere: "Login here",
    demoAccessCode: "Demo access code:",

    // Spieltage
    upcomingMatches: "Upcoming Matches",
    impersonatePlayer: "Impersonate Player:",
    selectPlayer: "Select a player...",
    selectPlayerFirst: "Please select a player first",
    hello: "Hello",
    switchPlayer: "Switch Player",
    rememberMe: "Remember selection",
    yes: "Yes",
    notNow: "Not now",
    showFilters: "Show Filters",
    hideFilters: "Hide Filters",
    showDetails: "Show Details",
    confirm: "Confirm",
    maybe: "Maybe",
    decline: "Decline",
    participants: "participants",
    undecided: "undecided",
    notOnTeam: "You are not a member of this team",
    showAllMatches: "Show all matches",
    showMyMatches: "Show only my matches",
    matchesShown: "{count} of {total} matches",

    // Participation Comments
    addComment: "Add Comment",
    participationComment: "Participation Comment",
    addOptionalComment: "Add an optional comment to your participation",
    commentLabel: "Comment (optional)",
    commentPlaceholder: "Enter your comment here...",
    comment: "Comment",

    // Tie Details
    notes: "Notes",
    confirmed: "Confirmed",
    declined: "Declined",
    noResponses: "No responses yet",

    // Lineup Management
    lineup: "Lineup",
    manageLineup: "Manage Lineup",
    selectLineup: "Select Lineup",
    inLineup: "In Lineup",
    notInLineup: "Not in Lineup",
    lineupPlayers: "Selected Players",
    availablePlayers: "Available Players",
    lineupCount: "Lineup",
    maxPlayersReached: "Maximum number of players reached",
    onlyConfirmedPlayers: "Only confirmed players can be selected",
    remove: "Remove",
    otherParticipations: "Other Participations",
    needsAttention: "Needs Attention",
    lineupIssuesDetected: "Lineup Issues Detected",
    onePlayerInLineupChanged: "One player in the lineup has changed their participation",
    playersInLineupChanged: "players in the lineup have changed their participation",
    noLineup: "No lineup",
    lineupIssues: "Lineup issues",
    lineupIncomplete: "Lineup incomplete",
    lineupComplete: "Lineup complete",
    playerNeedsAttention: "player needs attention",
    playersNeedAttention: "players need attention",
    playersWithoutResponse: "Players Without Response",
    noResponsePlayers: "No Response",
    noPlayersWithoutResponse: "All players have responded",

    // Admin Dashboard
    dashboard: "Dashboard",
    manageSportsClub: "Manage your üéæ sports club planning",
    seasons: "Seasons",
    teams: "Teams",
    players: "Players",
    ties: "Ties",
    activeAndArchived: "Active and archived seasons",
    teamsInSeason: "Teams in current season",
    registeredPlayers: "Registered players",
    upcomingTies: "Scheduled matches",
    quickActions: "Quick Actions",
    commonTasks: "Common administrative tasks",
    manageSeasons: "Manage Seasons",
    manageTeams: "Manage Teams",
    managePlayers: "Manage Players",
    manageTies: "Manage Ties",
    recentActivity: "Recent Activity",
    latestUpdates: "Latest updates and changes",

    // Seasons
    manageSeasonsDesc: "Manage the seasons",
    addSeason: "Add Season",
    addNewSeason: "Add New Season",
    editSeason: "Edit Season",
    seasonName: "Season Name",
    accessCode: "Access Code",
    startDate: "Start Date",
    endDate: "End Date",
    active: "Active",
    confirmDeleteSeason: "Are you sure you want to delete this season?",

    // Users
    users: "Users",
    manageUsers: "Manage Users",
    manageUsersDesc: "Manage system users and their roles",
    addUser: "Add User",
    addNewUser: "Add New User",
    editUser: "Edit User",
    changePassword: "Change Password",
    newPassword: "New Password",
    updatePassword: "Update Password",
    role: "Role",
    associatedPlayer: "Associated Player (Optional)",
    noPlayerAssociation: "No player association",
    admin: "Admin",
    user: "User",
    teamCaptain: "Team Captain",
    player: "Player",
    linkedTo: "Linked to",
    confirmDeleteUser: "Are you sure you want to delete this user?",

    // Teams
    manageTeamsDesc: "Manage your teams",
    addTeam: "Add Team",
    addNewTeam: "Add New Team",
    editTeam: "Edit Team",
    teamName: "Team Name",
    teamSize: "Team Size",
    teamSizeDesc: "Number of players that participate in a tie",
    league: "League",
    season: "Season",
    teamRoster: "Team Entry List (Ranked by Position)",
    addPlayerToTeam: "Add player...",
    noPlayersAdded: "No players added yet",
    roster: "Entry List",
    playersCount: "players",
    confirmDeleteTeam: "Are you sure you want to delete this team?",
    allPlayersAdded: "All available players have been added",
    teamPlayers: "Team Players",
    selectAll: "Select All",
    rank: "Rank",
    moveUp: "Move Up",
    moveDown: "Move Down",
    removePlayer: "Remove Player",
    enableRankEdit: "Edit Ranks",

    // Players
    managePlayersDesc: "Manage your players",
    addPlayer: "Add Player",
    batchAdd: "Batch Add",
    addNewPlayer: "Add New Player",
    editPlayer: "Edit Player",
    batchAddPlayers: "Batch Add Players",
    firstName: "First Name",
    lastName: "Last Name",
    email: "Email",
    phone: "Phone",
    enterPlayerData: "Enter player data (one per line: FirstName LastName or LastName, FirstName)",
    addPlayers: "Add Players",
    confirmDeletePlayer: "Are you sure you want to delete this player?",
    noPlayersToImport: "No players found to import",
    importSuccess: "Successfully imported",
    allPlayersSkipped: "All players skipped (already exist)",
    importResult: "Import completed",
    skipped: "skipped",

    // Ties
    manageTiesDesc: "Manage your matches",
    addTie: "Add Tie",
    addNewTie: "Add New Tie",
    editTie: "Edit Tie",
    team: "Team",
    opponent: "Opponent",
    date: "Date",
    time: "Time",
    location: "Location",
    homeAway: "Home/Away",
    home: "Home",
    away: "Away",
    vs: "vs",
    manageMatches: "Manage your ties",
    importTies: "Import Ties",
    importUrl: "Import URL",
    importUrlPlaceholder: "Enter the page URL that contains the ties table",
    importTableNotFound: "No matching table found on the page",
    imported: "imported",
    importFailed: "Import failed",
    importing: "Importing...",
    parsing: "Parsing...",
    fetch: "Fetch",
    parsedTies: "Found ties",
    previewTies: "Preview ties",
    importSelected: "Import selected",
    clearPreview: "Clear preview",
    corsError: "Error loading page. Please check the URL.",
    confirmDeleteTie: "Are you sure you want to delete this tie?",
    loading: "Loading...",

    // Sorting and Filtering
    filterByTeam: "Filter by Team",
    allTeams: "All Teams",
    sortByDate: "Sort by date",
    ascending: "Ascending",
    descending: "Descending",
    teamAndSeason: "Team & Season",
    noTiesFound: "No ties found",
    noTiesFoundFor: "No ties found for",
    showAllTeams: "Show all teams",
    tiesCount: "ties",
    of: "of",
    selectValidTeamSeason: "Please select a valid team and season",
    teamSeasonNotFound: "Selected team or season not found",
  },
}

export function getLocale(): Locale {
  if (typeof window === "undefined") return "de"
  return (localStorage.getItem("locale") as Locale) || "de"
}

export function setLocale(locale: Locale): void {
  if (typeof window !== "undefined") {
    localStorage.setItem("locale", locale)
  }
}

export function t(key: keyof typeof translations.de, locale?: Locale): string {
  const currentLocale = locale || getLocale()
  return translations[currentLocale][key] || key
}

export function tWithParams(
  key: keyof typeof translations.de,
  params: Record<string, string | number>,
  locale?: Locale
): string {
  const text = t(key, locale)
  return Object.entries(params).reduce((result, [paramKey, value]) => {
    return result.replace(`{${paramKey}}`, String(value))
  }, text)
}

export function useTranslation() {
  const locale = getLocale()

  return {
    t: (key: keyof typeof translations.de) => t(key, locale),
    tWithParams: (key: keyof typeof translations.de, params: Record<string, string | number>) => 
      tWithParams(key, params, locale),
    locale,
    setLocale,
  }
}
